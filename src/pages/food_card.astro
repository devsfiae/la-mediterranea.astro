---
// src/pages/food_card.astro

import Wrapper from '../components/Wrapper.astro'; // import Wrapper component
import Card from '../components/Card.astro'; // import Card component
import '../styles/global.css';

const response = await fetch('https://la-mediterranea.eu/api/menu_items.php?category=30');
const data = await response.json();

// Access the `results` array
const menuItems = data.results;

if (!menuItems || menuItems.length === 0) {
    throw new Error("Menu items data is empty or undefined.");
}
---
<Wrapper
    charset="UTF-8"
    title="Menu - La Mediterranea"
    description="Feal the Mediterranean vibes with our delicious dishes."
    ogImage="/images/persons/bartender.png"
    ogUrl="/FoodCard.html"
    noFooter={true} 
>

    <div slot="main" class="card-container scrollable-content">
        {menuItems.map((menuItem: { item_id: any; item_name: any; image_item_name: any; description: any; price: any; }) => (
            <Card
                itemId={menuItem.item_id}
                itemName={menuItem.item_name}
                image={`../images/food/${menuItem.image_item_name}`}
                description={menuItem.description}
                price={menuItem.price}
            />
        ))}
    </div>
</Wrapper>
